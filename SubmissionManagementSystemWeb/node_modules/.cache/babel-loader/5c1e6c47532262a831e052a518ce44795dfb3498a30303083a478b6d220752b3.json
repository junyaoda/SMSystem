{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport constant from '@/consts/const';\nexport default {\n  data() {\n    return {\n      error: constant.ERROR_MESSAGE,\n      message: this.$route.params.message,\n      result: false,\n      groups: [],\n      headers: [{\n        text: 'グループ名',\n        value: 'groupName'\n      }, {\n        text: 'メンバー',\n        value: 'userName'\n      }, {\n        text: 'ユーザ',\n        value: 'user'\n      }, {\n        text: '操作',\n        value: 'operation',\n        align: 'center',\n        sortable: false\n      }]\n    };\n  },\n  created() {\n    this.selectAll();\n    if (this.message != null) {\n      this.result = true;\n      setTimeout(() => {\n        this.result = false;\n      }, constant.MESSAGE_DISPLAY_TIME);\n    }\n  },\n  methods: {\n    selectAll() {\n      const path = constant.SELECT_GROUP_ALL_PATH;\n      axios.get(path).then(response => {\n        this.groups = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    insert() {\n      this.$router.push(\"GroupInsert\");\n    },\n    del(id) {\n      var res = confirm(constant.DELETE_CONFIRM_MESSAGE);\n      if (res == true) {\n        const path = constant.DELETE_GROUP_PATH + id;\n        axios.delete(path).then(response => {\n          console.log(response.data);\n          this.$router.push({\n            name: \"PageLoading\",\n            params: {\n              message: constant.DELETE_COMPLETE_MESSAGE\n            }\n          });\n        }).catch(err => {\n          console.log(\"err:\", err);\n          this.$router.push({\n            name: \"GroupManagement\",\n            params: {\n              message: constant.ERROR_MESSAGE\n            }\n          });\n        });\n      }\n    },\n    update(id, groupName, slackId) {\n      this.$router.push({\n        name: \"GroupUpdate\",\n        params: {\n          id: id,\n          groupName: groupName,\n          slackId: slackId\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","constant","data","error","ERROR_MESSAGE","message","$route","params","result","groups","headers","text","value","align","sortable","created","selectAll","setTimeout","MESSAGE_DISPLAY_TIME","methods","path","SELECT_GROUP_ALL_PATH","get","then","response","catch","console","log","insert","$router","push","del","id","res","confirm","DELETE_CONFIRM_MESSAGE","DELETE_GROUP_PATH","delete","name","DELETE_COMPLETE_MESSAGE","err","update","groupName","slackId"],"sources":["src/pages/GroupManagement.vue"],"sourcesContent":["<template>\n    <v-container>\n        <v-row>\n            <v-col cols=\"4\">\n                <h2>\n                    グループ管理\n                </h2>\n            </v-col>\n            <v-col cols=\"3\">\n                <Transition name=\"fade\">\n                    <div v-if=\"result\">\n                        <div v-if=\"message === this.error\" class=\"alert alert-danger d-flex align-center justify-center\"\n                            style=\"height: 39px\">\n                            {{ message }}\n                        </div>\n                        <div v-else class=\"alert alert-success d-flex align-center justify-center\" style=\"height: 1px\">\n                            {{ message }}\n                        </div>\n                    </div>\n                </Transition>\n            </v-col>\n            <v-col cols=\"4\">\n            </v-col>\n            <v-col cols=\"1\">\n                <v-btn small fab dark color=\"indigo\" @click=\"insert()\">\n                    <v-icon dark> mdi-plus </v-icon>\n                </v-btn>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col>\n                <v-data-table :headers=\"headers\" :items=\"groups\">\n                    <template v-slot:[`index.user`]=\"{ index }\">\n                        <div v-for=\"i in index.user\" :key=\"i.id\">{{ i.userName }}</div>\n                    </template>\n                    <template v-slot:[`item.operation`]=\"{ index }\">\n                        <v-btn small @click=\"update(groups[index].id, groups[index].groupName, groups[index].slackId)\">\n                            <v-icon> mdi-pencil</v-icon>\n                        </v-btn>\n                        <v-btn small @click=\"del(groups[index].id)\">\n                            <v-icon> mdi-delete </v-icon>\n                        </v-btn>\n\n                    </template>\n                </v-data-table>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport constant from '@/consts/const';\nexport default {\n    data() {\n        return {\n            error: constant.ERROR_MESSAGE,\n            message: this.$route.params.message,\n            result: false,\n            groups: [],\n            headers: [\n                {\n                    text: 'グループ名',\n                    value: 'groupName',\n                },\n                {\n                    text: 'メンバー',\n                    value: 'userName',\n                }, \n                {\n                    text: 'ユーザ',\n                    value: 'user',\n                },\n                {\n                    text: '操作',\n                    value: 'operation',\n                    align: 'center',\n                    sortable: false,\n                },\n            ],\n        }\n    },\n    created() {\n        this.selectAll()\n        if (this.message != null) {\n            this.result = true;\n            setTimeout(() => { this.result = false; }, constant.MESSAGE_DISPLAY_TIME);\n        }\n    },\n    methods: {\n        selectAll() {\n            const path = constant.SELECT_GROUP_ALL_PATH;\n            axios.get(path)\n                .then(response => {\n                    this.groups = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        },\n        insert() {\n            this.$router.push(\n                \"GroupInsert\"\n            );\n        },\n        del(id) {\n            var res = confirm(constant.DELETE_CONFIRM_MESSAGE);\n            if (res == true) {\n                const path = constant.DELETE_GROUP_PATH + id\n                axios.delete(path\n                )\n                    .then(response => {\n                        console.log(response.data);\n                        this.$router.push({\n                            name: \"PageLoading\",\n                            params: {\n                                message: constant.DELETE_COMPLETE_MESSAGE\n                            }\n                        });\n                    })\n                    .catch(err => {\n                        console.log(\"err:\", err);\n                        this.$router.push({\n                            name: \"GroupManagement\",\n                            params: {\n                                message: constant.ERROR_MESSAGE\n                            }\n                        });\n                    });\n            }\n        },\n        update(id, groupName, slackId) {\n            this.$router.push({\n                name: \"GroupUpdate\",\n                params: {\n                    id: id,\n                    groupName: groupName,\n                    slackId: slackId,\n                }\n            });\n        },\n    }\n}\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n    transition: opacity .5s;\n}\n\n.fade-enter,\n.fade-leave-to {\n    opacity: 0;\n}\n</style>"],"mappings":";AAmDA,OAAAA,KAAA;AACA,OAAAC,QAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA,EAAAF,QAAA,CAAAG,aAAA;MACAC,OAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF,OAAA;MACAG,MAAA;MACAC,MAAA;MACAC,OAAA,GACA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAD,IAAA;QACAC,KAAA;MACA,GACA;QACAD,IAAA;QACAC,KAAA;MACA,GACA;QACAD,IAAA;QACAC,KAAA;QACAC,KAAA;QACAC,QAAA;MACA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;IACA,SAAAX,OAAA;MACA,KAAAG,MAAA;MACAS,UAAA;QAAA,KAAAT,MAAA;MAAA,GAAAP,QAAA,CAAAiB,oBAAA;IACA;EACA;EACAC,OAAA;IACAH,UAAA;MACA,MAAAI,IAAA,GAAAnB,QAAA,CAAAoB,qBAAA;MACArB,KAAA,CAAAsB,GAAA,CAAAF,IAAA,EACAG,IAAA,CAAAC,QAAA;QACA,KAAAf,MAAA,GAAAe,QAAA,CAAAtB,IAAA;MACA,GACAuB,KAAA,CAAAtB,KAAA;QACAuB,OAAA,CAAAC,GAAA,CAAAxB,KAAA;MACA;IACA;IACAyB,OAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,CACA,aACA;IACA;IACAC,IAAAC,EAAA;MACA,IAAAC,GAAA,GAAAC,OAAA,CAAAjC,QAAA,CAAAkC,sBAAA;MACA,IAAAF,GAAA;QACA,MAAAb,IAAA,GAAAnB,QAAA,CAAAmC,iBAAA,GAAAJ,EAAA;QACAhC,KAAA,CAAAqC,MAAA,CAAAjB,IACA,EACAG,IAAA,CAAAC,QAAA;UACAE,OAAA,CAAAC,GAAA,CAAAH,QAAA,CAAAtB,IAAA;UACA,KAAA2B,OAAA,CAAAC,IAAA;YACAQ,IAAA;YACA/B,MAAA;cACAF,OAAA,EAAAJ,QAAA,CAAAsC;YACA;UACA;QACA,GACAd,KAAA,CAAAe,GAAA;UACAd,OAAA,CAAAC,GAAA,SAAAa,GAAA;UACA,KAAAX,OAAA,CAAAC,IAAA;YACAQ,IAAA;YACA/B,MAAA;cACAF,OAAA,EAAAJ,QAAA,CAAAG;YACA;UACA;QACA;MACA;IACA;IACAqC,OAAAT,EAAA,EAAAU,SAAA,EAAAC,OAAA;MACA,KAAAd,OAAA,CAAAC,IAAA;QACAQ,IAAA;QACA/B,MAAA;UACAyB,EAAA,EAAAA,EAAA;UACAU,SAAA,EAAAA,SAAA;UACAC,OAAA,EAAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}